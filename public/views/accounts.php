<?php $user = Auth::user(); ?>
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accounts â€“ Postamt</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/app.css">
</head>
<body class="app-page">
    <div class="app-layout">
        <?php include __DIR__ . '/_sidebar.php'; ?>

        <main class="main-content">
            <header class="page-header">
                <div>
                    <h1>Social Accounts</h1>
                    <p>Verbinde deine Social Media Accounts</p>
                </div>
            </header>

            <!-- Messages -->
            <?php if (!empty($_GET['success'])): ?>
            <div class="alert alert-success"><?= htmlspecialchars($_GET['success']) ?></div>
            <?php endif; ?>
            <?php if (!empty($_GET['error'])): ?>
            <div class="alert alert-error"><?= htmlspecialchars($_GET['error']) ?></div>
            <?php endif; ?>

            <!-- Connected Accounts -->
            <section class="accounts-section" id="connected-accounts">
                <h2>Verbundene Accounts</h2>
                <div id="accounts-list">
                    <p class="loading-text">Lade Accounts...</p>
                </div>
            </section>

            <!-- Connect New Account -->
            <section class="accounts-section">
                <h2>Account verbinden</h2>
                <div class="connect-grid">
                    <a href="/auth/linkedin" class="connect-card">
                        <div class="connect-icon linkedin">
                            <svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>LinkedIn</h3>
                            <!-- <p>Professional Content</p> -->
                        </div>
                        <span class="connect-btn">Verbinden</span>
                    </a>

                    <a href="/auth/instagram" class="connect-card">
                        <div class="connect-icon instagram">
                            <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>Instagram</h3>
                            <!-- <p>Posts, Stories und Reels</p> -->
                        </div>
                        <span class="connect-btn">Verbinden</span>
                    </a>

                    <a href="/auth/tiktok" class="connect-card">
                        <div class="connect-icon tiktok">
                            <svg viewBox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>TikTok</h3>
                            <!-- <p>Videos posten</p> -->
                        </div>
                        <span class="connect-btn">Verbinden</span>
                    </a>

                    <a href="/auth/youtube" class="connect-card">
                        <div class="connect-icon youtube">
                            <svg viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>YouTube</h3>
                            <!-- <p>Videos und Shorts</p> -->
                        </div>
                        <span class="connect-btn">Verbinden</span>
                    </a>

                    <div class="connect-card disabled">
                        <div class="connect-icon x">
                            <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>X / Twitter</h3>
                            <!-- <p>Tweets und Threads</p> -->
                        </div>
                        <span class="connect-btn">Bald</span>
                    </div>

                    <div class="connect-card disabled">
                        <div class="connect-icon bluesky">
                            <svg viewBox="0 0 24 24"><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>Bluesky</h3>
                            <!-- <p>Posts und Threads</p> -->
                        </div>
                        <span class="connect-btn">Bald</span>
                    </div>

                    <div class="connect-card disabled">
                        <div class="connect-icon snapchat">
                            <svg viewBox="0 0 512 512"><path d="M496.926,366.6c-3.373-9.176-9.8-14.086-17.112-18.153-1.376-.806-2.641-1.451-3.72-1.947-2.182-1.128-4.414-2.22-6.634-3.373-22.8-12.09-40.609-27.341-52.959-45.42a102.889,102.889,0,0,1-9.089-16.12c-1.054-3.013-1-4.724-.248-6.287a10.221,10.221,0,0,1,2.914-3.038c3.918-2.591,7.96-5.22,10.7-6.993,4.885-3.162,8.754-5.667,11.246-7.44,9.362-6.547,15.909-13.5,20-21.278a42.371,42.371,0,0,0,2.1-35.191c-6.2-16.318-21.613-26.449-40.287-26.449a55.543,55.543,0,0,0-11.718,1.24c-1.029.224-2.059.459-3.063.72.174-11.16-.074-22.94-1.066-34.534-3.522-40.758-17.794-62.123-32.674-79.16A159.718,159.718,0,0,0,313.522,20.9C291.5,7.2,266.865,0,241.191,0h-5.767c-25.674,0-50.46,7.2-72.477,20.905A159.63,159.63,0,0,0,110.8,63.481c-14.88,17.038-29.152,38.4-32.674,79.161-.992,11.594-1.24,23.374-1.066,34.534-1-.261-2.034-.5-3.063-.72a55.719,55.719,0,0,0-11.717-1.24c-18.675,0-34.086,10.131-40.3,26.449a42.423,42.423,0,0,0,2.046,35.228c4.105,7.774,10.652,14.731,20.014,21.278,2.48,1.736,6.361,4.24,11.246,7.44,2.641,1.711,6.5,4.216,10.28,6.72a11.053,11.053,0,0,1,3.3,3.311c.794,1.563.831,3.288-.261,6.357a102.392,102.392,0,0,1-8.9,15.881c-12.316,18.079-30.166,33.33-53,45.42-2.108,1.116-4.328,2.245-6.6,3.373-1.203.56-2.714,1.29-4.4,2.157-6.697,3.843-12.91,8.542-16.372,17.569a35.821,35.821,0,0,0,.122,27.066c6.036,14.247,21.818,24.267,47.839,30.375,2.145.5,4.4.968,6.473,1.389,1.711.348,3.311.672,4.548.968,1.513.362,2.9,2.468,3.6,7.030.794,5.468,1.873,11.131,3.982,16.665,2.2,5.7,6.1,8.678,10.893,10.5a63.142,63.142,0,0,0,16.769,3.61,128.267,128.267,0,0,0,16.654-.062,191.477,191.477,0,0,1,20.09-.968c6.472,0,13.655.968,21.439,2.852,16.851,4.079,33.591,17.93,52.959,34.534,19.517,16.727,45.606,26.412,71.56,26.549H258.7c25.965-.137,52.054-9.822,71.56-26.549,19.368-16.6,36.108-30.455,52.959-34.534,7.784-1.884,14.967-2.852,21.438-2.852a191.54,191.54,0,0,1,20.091.968,140.309,140.309,0,0,0,16.654.062,63.036,63.036,0,0,0,16.768-3.61c4.787-1.809,8.693-4.787,10.906-10.5,2.109-5.534,3.187-11.2,3.982-16.665.077-.512.186-1.029.31-1.563,1.7-7.377,5.092-8.79,8.281-9.376,2.033-.4,3.97-.794,5.791-1.24,6.156-1.451,41.634-10.442,47.888-30.375A35.758,35.758,0,0,0,496.926,366.6Z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>Snapchat</h3>
                            <!-- <p>Stories und Snaps</p> -->
                        </div>
                        <span class="connect-btn">Bald</span>
                    </div>

                    <div class="connect-card disabled">
                        <div class="connect-icon whatsapp">
                            <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>WhatsApp</h3>
                            <!-- <p>Status Updates</p> -->
                        </div>
                        <span class="connect-btn">Bald</span>
                    </div>

                    <div class="connect-card disabled">
                        <div class="connect-icon telegram">
                            <svg viewBox="0 0 24 24"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>Telegram</h3>
                        </div>
                        <span class="connect-btn">Bald</span>
                    </div>

                    <div class="connect-card disabled">
                        <div class="connect-icon facebook">
                            <svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>Facebook</h3>
                        </div>
                        <span class="connect-btn">Bald</span>
                    </div>

                    <div class="connect-card disabled">
                        <div class="connect-icon threads">
                            <svg viewBox="0 0 192 192"><path d="M141.537 88.988a66.667 66.667 0 0 0-2.518-1.143c-1.482-27.307-16.403-42.94-41.457-43.1h-.34c-14.986 0-27.449 6.396-35.12 18.036l13.779 9.452c5.73-8.695 14.724-10.548 21.348-10.548h.229c8.249.053 14.474 2.452 18.503 7.129 2.932 3.405 4.893 8.111 5.864 14.05-7.314-1.243-15.224-1.626-23.68-1.14-23.82 1.371-39.134 15.264-38.105 34.568.522 9.792 5.4 18.216 13.735 23.719 7.047 4.652 16.124 6.927 25.557 6.412 12.458-.683 22.231-5.436 29.049-14.127 5.178-6.6 8.453-15.153 9.899-25.93 5.937 3.583 10.337 8.298 12.767 13.966 4.132 9.635 4.373 25.468-8.546 38.376-11.319 11.308-24.925 16.2-45.488 16.351-22.809-.169-40.06-7.484-51.275-21.742C35.236 139.966 29.808 120.682 29.6 96c.208-24.682 5.636-43.966 16.128-57.317 11.215-14.258 28.466-21.573 51.275-21.742 22.996.173 40.526 7.557 52.128 21.958 5.673 7.034 9.908 15.793 12.632 26.007l15.623-4.186c-3.2-12.011-8.39-22.503-15.496-31.308C146.882 10.858 125.314 1.61 97.042 1.4h-.075C68.819 1.612 47.603 10.932 33.006 29.63 16.948 49.94 10.465 76.905 10.2 95.964v.075c.265 19.059 6.748 46.024 22.806 66.334 14.597 18.698 35.813 28.018 64.061 28.23h.075c24.578-.177 41.605-6.555 56.124-21.025 19.128-19.082 18.376-42.8 12.007-57.598-4.593-10.663-12.928-19.238-24.106-24.868-.079-.042-.158-.083-.238-.124l.6.001Zm-41.14 44.905c-10.444.572-21.294-4.098-21.86-14.711-.396-7.442 5.296-15.746 22.461-16.735 1.966-.114 3.895-.169 5.79-.169 6.235 0 12.068.606 17.371 1.765-1.978 24.702-13.58 29.274-23.762 29.85Z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>Threads</h3>
                        </div>
                        <span class="connect-btn">Bald</span>
                    </div>

                    <div class="connect-card disabled">
                        <div class="connect-icon pinterest">
                            <svg viewBox="0 0 24 24"><path d="M12 0C5.373 0 0 5.372 0 12c0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.112.224.083.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24 12 24c6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>
                        </div>
                        <div class="connect-info">
                            <h3>Pinterest</h3>
                        </div>
                        <span class="connect-btn">Bald</span>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <style>
        .accounts-section {
            margin-bottom: 40px;
        }
        .accounts-section h2 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #1f2937;
        }
        .alert {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 24px;
            font-size: 14px;
        }
        .alert-success {
            background: #052e16;
            color: #4ade80;
            border: 1px solid #166534;
        }
        .alert-error {
            background: #450a0a;
            color: #f87171;
            border: 1px solid #991b1b;
        }
        .loading-text {
            color: #71717a;
            font-size: 14px;
        }
        .no-accounts-msg {
            color: #71717a;
            font-size: 14px;
            padding: 24px;
            background: #18181b;
            border-radius: 12px;
            text-align: center;
        }
        .connected-account {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 20px;
            background: #18181b;
            border: 1px solid #27272a;
            border-radius: 12px;
            margin-bottom: 12px;
        }
        .connected-account .account-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: #27272a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        .connected-account .account-info {
            flex: 1;
        }
        .connected-account .account-name {
            font-weight: 600;
            color: #fff;
        }
        .connected-account .account-username {
            font-size: 13px;
            color: #a1a1aa;
        }
        .connected-account .account-platform {
            font-size: 12px;
            color: #71717a;
            text-transform: uppercase;
        }
        .disconnect-btn {
            padding: 8px 16px;
            font-size: 13px;
            color: #f87171;
            background: transparent;
            border: 1px solid #991b1b;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .disconnect-btn:hover {
            background: #450a0a;
        }
        .connect-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
        }
        .connect-card {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: #18181b;
            border: 1px solid #27272a;
            border-radius: 12px;
            text-decoration: none;
            transition: all 0.2s;
        }
        .connect-card:not(.disabled):hover {
            border-color: #3f3f46;
            background: #1f1f23;
        }
        .connect-card.disabled {
            cursor: not-allowed;
            position: relative;
            pointer-events: none;
        }
        .connect-card.disabled::after {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(128, 128, 128, 0.3);
            border-radius: 12px;
            pointer-events: none;
        }
        .connect-card.disabled .connect-btn {
            background: #3f3f46;
        }
        .connect-card .connect-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: #27272a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        .connect-card .connect-icon svg {
            width: 24px;
            height: 24px;
        }
        .connect-icon.linkedin svg { fill: #0A66C2; }
        .connect-icon.instagram svg { fill: #E4405F; }
        .connect-icon.tiktok svg { fill: #fff; }
        .connect-icon.youtube svg { fill: #FF0000; }
        .connect-icon.x svg { fill: #fff; }
        .connect-icon.bluesky svg { fill: #0085ff; }
        .connect-icon.snapchat svg { fill: #FFFC00; }
        .connect-icon.whatsapp svg { fill: #25D366; }
        .connect-icon.telegram svg { fill: #0088cc; }
        .connect-icon.facebook svg { fill: #1877F2; }
        .connect-icon.threads svg { fill: #fff; }
        .connect-icon.pinterest svg { fill: #E60023; }

        .connected-account .account-icon svg {
            width: 24px;
            height: 24px;
        }
        .account-icon.linkedin svg { fill: #0A66C2; }
        .account-icon.instagram svg { fill: #E4405F; }
        .account-icon.tiktok svg { fill: #fff; }
        .account-icon.youtube svg { fill: #FF0000; }
        .account-icon.x svg, .account-icon.twitter svg { fill: #fff; }
        .account-icon.bluesky svg { fill: #0085ff; }
        .account-icon.snapchat svg { fill: #FFFC00; }
        .account-icon.whatsapp svg { fill: #25D366; }
        .account-icon.telegram svg { fill: #0088cc; }
        .account-icon.facebook svg { fill: #1877F2; }
        .account-icon.threads svg { fill: #fff; }
        .account-icon.pinterest svg { fill: #E60023; }
        .connect-card .connect-info {
            flex: 1;
        }
        .connect-card .connect-info h3 {
            font-size: 15px;
            font-weight: 600;
            color: #fff;
            margin-bottom: 4px;
        }
        .connect-card .connect-info p {
            font-size: 13px;
            color: #71717a;
        }
        .connect-card .connect-btn {
            padding: 8px 16px;
            font-size: 13px;
            font-weight: 500;
            color: #fff;
            background: #27272a;
            border-radius: 6px;
        }
        .connect-card:not(.disabled):hover .connect-btn {
            background: #3f3f46;
        }
    </style>

    <script>
        async function loadAccounts() {
            try {
                const response = await fetch('/api/accounts');
                const data = await response.json();
                renderAccounts(data.accounts || []);
            } catch (err) {
                console.error('Failed to load accounts:', err);
                document.getElementById('accounts-list').innerHTML = `
                    <p class="no-accounts-msg">Fehler beim Laden der Accounts</p>
                `;
            }
        }

        function renderAccounts(accounts) {
            const container = document.getElementById('accounts-list');

            if (accounts.length === 0) {
                container.innerHTML = `
                    <p class="no-accounts-msg">Noch keine Accounts verbunden. Verbinde deinen ersten Account!</p>
                `;
                return;
            }

            container.innerHTML = accounts.map(account => `
                <div class="connected-account">
                    <div class="account-icon ${account.platform}">${getPlatformIcon(account.platform)}</div>
                    <div class="account-info">
                        <div class="account-name">${account.display_name || account.platform_username}</div>
                        <div class="account-username">@${account.platform_username}</div>
                        <div class="account-platform">${getPlatformName(account.platform)}</div>
                    </div>
                    <button class="disconnect-btn" onclick="disconnectAccount(${account.id})">Trennen</button>
                </div>
            `).join('');
        }

        function getPlatformIcon(platform) {
            const icons = {
                twitter: '<svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',
                x: '<svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',
                instagram: '<svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>',
                tiktok: '<svg viewBox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>',
                linkedin: '<svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>',
                youtube: '<svg viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>',
                bluesky: '<svg viewBox="0 0 24 24"><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8z"/></svg>',
                snapchat: '<svg viewBox="0 0 512 512"><path d="M496.926,366.6c-3.373-9.176-9.8-14.086-17.112-18.153-1.376-.806-2.641-1.451-3.72-1.947-2.182-1.128-4.414-2.22-6.634-3.373-22.8-12.09-40.609-27.341-52.959-45.42a102.889,102.889,0,0,1-9.089-16.12c-1.054-3.013-1-4.724-.248-6.287a10.221,10.221,0,0,1,2.914-3.038c3.918-2.591,7.96-5.22,10.7-6.993,4.885-3.162,8.754-5.667,11.246-7.44,9.362-6.547,15.909-13.5,20-21.278a42.371,42.371,0,0,0,2.1-35.191c-6.2-16.318-21.613-26.449-40.287-26.449a55.543,55.543,0,0,0-11.718,1.24c-1.029.224-2.059.459-3.063.72.174-11.16-.074-22.94-1.066-34.534-3.522-40.758-17.794-62.123-32.674-79.16A159.718,159.718,0,0,0,313.522,20.9C291.5,7.2,266.865,0,241.191,0h-5.767c-25.674,0-50.46,7.2-72.477,20.905A159.63,159.63,0,0,0,110.8,63.481c-14.88,17.038-29.152,38.4-32.674,79.161-.992,11.594-1.24,23.374-1.066,34.534-1-.261-2.034-.5-3.063-.72a55.719,55.719,0,0,0-11.717-1.24c-18.675,0-34.086,10.131-40.3,26.449a42.423,42.423,0,0,0,2.046,35.228c4.105,7.774,10.652,14.731,20.014,21.278,2.48,1.736,6.361,4.24,11.246,7.44,2.641,1.711,6.5,4.216,10.28,6.72a11.053,11.053,0,0,1,3.3,3.311c.794,1.563.831,3.288-.261,6.357a102.392,102.392,0,0,1-8.9,15.881c-12.316,18.079-30.166,33.33-53,45.42-2.108,1.116-4.328,2.245-6.6,3.373-1.203.56-2.714,1.29-4.4,2.157-6.697,3.843-12.91,8.542-16.372,17.569a35.821,35.821,0,0,0,.122,27.066c6.036,14.247,21.818,24.267,47.839,30.375,2.145.5,4.4.968,6.473,1.389,1.711.348,3.311.672,4.548.968,1.513.362,2.9,2.468,3.6,7.030.794,5.468,1.873,11.131,3.982,16.665,2.2,5.7,6.1,8.678,10.893,10.5a63.142,63.142,0,0,0,16.769,3.61,128.267,128.267,0,0,0,16.654-.062,191.477,191.477,0,0,1,20.09-.968c6.472,0,13.655.968,21.439,2.852,16.851,4.079,33.591,17.93,52.959,34.534,19.517,16.727,45.606,26.412,71.56,26.549H258.7c25.965-.137,52.054-9.822,71.56-26.549,19.368-16.6,36.108-30.455,52.959-34.534,7.784-1.884,14.967-2.852,21.438-2.852a191.54,191.54,0,0,1,20.091.968,140.309,140.309,0,0,0,16.654.062,63.036,63.036,0,0,0,16.768-3.61c4.787-1.809,8.693-4.787,10.906-10.5,2.109-5.534,3.187-11.2,3.982-16.665.077-.512.186-1.029.31-1.563,1.7-7.377,5.092-8.79,8.281-9.376,2.033-.4,3.97-.794,5.791-1.24,6.156-1.451,41.634-10.442,47.888-30.375A35.758,35.758,0,0,0,496.926,366.6Z"/></svg>',
                whatsapp: '<svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>',
                telegram: '<svg viewBox="0 0 24 24"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>',
                facebook: '<svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>',
                threads: '<svg viewBox="0 0 192 192"><path d="M141.537 88.988a66.667 66.667 0 0 0-2.518-1.143c-1.482-27.307-16.403-42.94-41.457-43.1h-.34c-14.986 0-27.449 6.396-35.12 18.036l13.779 9.452c5.73-8.695 14.724-10.548 21.348-10.548h.229c8.249.053 14.474 2.452 18.503 7.129 2.932 3.405 4.893 8.111 5.864 14.05-7.314-1.243-15.224-1.626-23.68-1.14-23.82 1.371-39.134 15.264-38.105 34.568.522 9.792 5.4 18.216 13.735 23.719 7.047 4.652 16.124 6.927 25.557 6.412 12.458-.683 22.231-5.436 29.049-14.127 5.178-6.6 8.453-15.153 9.899-25.93 5.937 3.583 10.337 8.298 12.767 13.966 4.132 9.635 4.373 25.468-8.546 38.376-11.319 11.308-24.925 16.2-45.488 16.351-22.809-.169-40.06-7.484-51.275-21.742C35.236 139.966 29.808 120.682 29.6 96c.208-24.682 5.636-43.966 16.128-57.317 11.215-14.258 28.466-21.573 51.275-21.742 22.996.173 40.526 7.557 52.128 21.958 5.673 7.034 9.908 15.793 12.632 26.007l15.623-4.186c-3.2-12.011-8.39-22.503-15.496-31.308C146.882 10.858 125.314 1.61 97.042 1.4h-.075C68.819 1.612 47.603 10.932 33.006 29.63 16.948 49.94 10.465 76.905 10.2 95.964v.075c.265 19.059 6.748 46.024 22.806 66.334 14.597 18.698 35.813 28.018 64.061 28.23h.075c24.578-.177 41.605-6.555 56.124-21.025 19.128-19.082 18.376-42.8 12.007-57.598-4.593-10.663-12.928-19.238-24.106-24.868-.079-.042-.158-.083-.238-.124l.6.001Zm-41.14 44.905c-10.444.572-21.294-4.098-21.86-14.711-.396-7.442 5.296-15.746 22.461-16.735 1.966-.114 3.895-.169 5.79-.169 6.235 0 12.068.606 17.371 1.765-1.978 24.702-13.58 29.274-23.762 29.85Z"/></svg>',
                pinterest: '<svg viewBox="0 0 24 24"><path d="M12 0C5.373 0 0 5.372 0 12c0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.112.224.083.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24 12 24c6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>'
            };
            return icons[platform] || '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>';
        }

        function getPlatformName(platform) {
            const names = {
                twitter: 'X / Twitter',
                x: 'X / Twitter',
                instagram: 'Instagram',
                tiktok: 'TikTok',
                linkedin: 'LinkedIn',
                youtube: 'YouTube',
                bluesky: 'Bluesky',
                snapchat: 'Snapchat',
                whatsapp: 'WhatsApp',
                telegram: 'Telegram',
                facebook: 'Facebook',
                threads: 'Threads',
                pinterest: 'Pinterest'
            };
            return names[platform] || platform;
        }

        async function disconnectAccount(id) {
            if (!confirm('Account wirklich trennen?')) return;

            try {
                const response = await fetch(`/api/accounts/${id}/disconnect`, {
                    method: 'POST'
                });

                if (response.ok) {
                    loadAccounts();
                } else {
                    alert('Fehler beim Trennen des Accounts');
                }
            } catch (err) {
                alert('Verbindungsfehler');
            }
        }

        // Initialize
        loadAccounts();

        // Clear URL params after showing message
        if (window.location.search) {
            history.replaceState({}, document.title, window.location.pathname);
        }
    </script>

    <!-- 100% privacy-first analytics -->
    <script data-collect-dnt="true" async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
    <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif?collect-dnt=true" alt="" referrerpolicy="no-referrer-when-downgrade"/></noscript>
</body>
</html>
